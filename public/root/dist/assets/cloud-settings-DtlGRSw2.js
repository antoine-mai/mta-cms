import{E as e,J as t,W as n,Y as r,dt as i,g as a,pt as o}from"./react-vendor-JXP-I5sL.js";var s=o(),c=i();function l(){let[i,o]=(0,s.useState)([{id:`google_drive`,name:`Google Drive`,enabled:!1,config:{client_id:``,client_secret:``,refresh_token:``}},{id:`dropbox`,name:`Dropbox`,enabled:!1,config:{access_token:``,app_key:``,app_secret:``}},{id:`aws_s3`,name:`AWS S3`,enabled:!1,config:{access_key_id:``,secret_access_key:``,bucket_name:``,region:`us-east-1`}}]),[l,u]=(0,s.useState)(!1),[d,f]=(0,s.useState)(`idle`);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch(`/root/post/backup/cloud-settings`);if(e.ok){let t=await e.json();t.success&&t.providers&&o(t.providers)}}catch(e){console.error(`Failed to load cloud settings:`,e)}},m=async()=>{u(!0),f(`idle`);try{(await(await fetch(`/root/post/backup/cloud-settings`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({providers:i})})).json()).success?(f(`success`),setTimeout(()=>f(`idle`),3e3)):f(`error`)}catch(e){console.error(`Failed to save cloud settings:`,e),f(`error`)}finally{u(!1)}},h=(e,t,n)=>{o(r=>r.map(r=>r.id===e?t===`enabled`?{...r,enabled:n}:{...r,config:{...r.config,[t]:n}}:r))};return(0,c.jsxs)(`div`,{className:`h-full flex flex-col`,children:[(0,c.jsx)(`div`,{className:`bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-6 py-4`,children:(0,c.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,c.jsxs)(`div`,{children:[(0,c.jsx)(`h1`,{className:`text-2xl font-bold text-slate-900 dark:text-white`,children:`Cloud Settings`}),(0,c.jsx)(`p`,{className:`text-sm text-slate-500 dark:text-slate-400`,children:`Configure cloud storage providers for backup`})]}),(0,c.jsx)(`button`,{onClick:m,disabled:l,className:`px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 disabled:from-slate-400 disabled:to-slate-500 text-white rounded-xl font-semibold shadow-lg transition-all duration-300 hover:scale-105 disabled:scale-100 flex items-center gap-2`,children:l?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(`div`,{className:`w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin`}),`Saving...`]}):d===`success`?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t,{className:`w-5 h-5`}),`Saved!`]}):d===`error`?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r,{className:`w-5 h-5`}),`Error`]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a,{className:`w-5 h-5`}),`Save Settings`]})})]})}),(0,c.jsx)(`div`,{className:`flex-1 overflow-y-auto p-6`,children:(0,c.jsx)(`div`,{className:`max-w-4xl space-y-6`,children:i.map(t=>(0,c.jsxs)(`div`,{className:`bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl overflow-hidden`,children:[(0,c.jsxs)(`div`,{className:`px-6 py-4 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between`,children:[(0,c.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,c.jsx)(`div`,{className:`p-2 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl`,children:(0,c.jsx)(n,{className:`w-5 h-5 text-white`})}),(0,c.jsxs)(`div`,{children:[(0,c.jsx)(`h3`,{className:`text-lg font-bold text-slate-900 dark:text-white`,children:t.name}),(0,c.jsx)(`p`,{className:`text-xs text-slate-500 dark:text-slate-400`,children:t.enabled?`Enabled`:`Disabled`})]})]}),(0,c.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,c.jsx)(`input`,{type:`checkbox`,checked:t.enabled,onChange:e=>h(t.id,`enabled`,e.target.checked),className:`sr-only peer`}),(0,c.jsx)(`div`,{className:`w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-indigo-600`})]})]}),t.enabled&&(0,c.jsxs)(`div`,{className:`px-6 py-4 space-y-4`,children:[Object.entries(t.config).map(([n,r])=>(0,c.jsxs)(`div`,{children:[(0,c.jsx)(`label`,{className:`block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2`,children:(0,c.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,c.jsx)(e,{className:`w-4 h-4 text-slate-400`}),n.split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(` `)]})}),(0,c.jsx)(`input`,{type:n.includes(`secret`)||n.includes(`token`)||n.includes(`key`)?`password`:`text`,value:r,onChange:e=>h(t.id,n,e.target.value),placeholder:`Enter ${n.split(`_`).join(` `)}`,className:`w-full px-4 py-2 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent`})]},n)),(0,c.jsx)(`div`,{className:`mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`,children:(0,c.jsxs)(`p`,{className:`text-xs text-blue-700 dark:text-blue-300`,children:[t.id===`google_drive`&&`Get your credentials from Google Cloud Console. Create OAuth 2.0 credentials and enable Google Drive API.`,t.id===`dropbox`&&`Create an app in Dropbox App Console to get your access token and app credentials.`,t.id===`aws_s3`&&`Get your AWS credentials from IAM console. Make sure the bucket exists and has proper permissions.`]})})]})]},t.id))})})]})}export{l as default};