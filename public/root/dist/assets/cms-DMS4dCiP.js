import{A as e,F as t,X as n,Z as r,at as i,c as a,ct as o,dt as s,j as c,lt as l,pt as u,rt as d,v as f}from"./react-vendor-JXP-I5sL.js";var p=u(),m=s();function h({path:e,icon:t,title:n}){let r=o(),i=r.pathname===e||r.pathname.startsWith(e+`/`);return(0,m.jsxs)(d,{to:e,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm font-medium ${i?`text-indigo-600 bg-indigo-50 dark:bg-indigo-500/10 dark:text-indigo-400`:`text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:[(0,m.jsx)(t,{size:18,className:i?`text-indigo-600 dark:text-indigo-400`:`text-slate-400`}),(0,m.jsx)(`span`,{children:n})]})}function g(){let[i,s]=(0,p.useState)([]),[u,d]=(0,p.useState)([]),g=o(),_=l(),v=new URLSearchParams(g.search),y=v.get(`category_id`)?parseInt(v.get(`category_id`)):null,b=g.pathname;(0,p.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await(await fetch(`/root/post/categories/browse?type=post`)).json();e.success&&s(e.items)}catch(e){console.error(e)}},S=(e,t)=>{t.stopPropagation(),d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},C=({cat:e,level:t=0})=>{let a=i.filter(t=>t.parent_id===e.id),o=a.length>0,s=u.includes(e.id),l=y===e.id&&b===`/dashboard/cms/categories`;return(0,m.jsxs)(`div`,{children:[(0,m.jsxs)(`div`,{onClick:()=>_(`/dashboard/cms/categories?category_id=${e.id}`),className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors group ${l?`bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 dark:text-indigo-400`:`hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300`}`,style:{paddingLeft:`${12+t*16}px`},children:[o&&(0,m.jsx)(`button`,{onClick:t=>S(e.id,t),className:`p-0.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors`,children:s?(0,m.jsx)(r,{size:14,className:`text-slate-400`}):(0,m.jsx)(n,{size:14,className:`text-slate-400`})}),!o&&(0,m.jsx)(`div`,{className:`w-[18px]`}),(0,m.jsx)(c,{size:16,className:l?`text-indigo-600 dark:text-indigo-400`:`text-slate-400`}),(0,m.jsx)(`span`,{className:`flex-1 text-sm font-medium truncate`,children:e.name})]}),o&&s&&(0,m.jsx)(`div`,{children:a.map(e=>(0,m.jsx)(C,{cat:e,level:t+1},e.id))})]})},w=i.filter(e=>!e.parent_id);return(0,m.jsx)(`aside`,{className:`w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col h-full`,children:(0,m.jsxs)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar`,children:[(0,m.jsxs)(`div`,{className:`p-4 border-b border-slate-200 dark:border-slate-800`,children:[(0,m.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,m.jsx)(`h3`,{className:`text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Categories`}),(0,m.jsx)(`button`,{className:`p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors`,children:(0,m.jsx)(f,{size:14,className:`text-slate-400`})})]}),w.length>0?(0,m.jsx)(`div`,{className:`space-y-0.5`,children:w.map(e=>(0,m.jsx)(C,{cat:e},e.id))}):(0,m.jsxs)(`div`,{className:`text-center py-8`,children:[(0,m.jsx)(`div`,{className:`size-12 bg-slate-100 dark:bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-3`,children:(0,m.jsx)(c,{size:24,className:`text-slate-300`})}),(0,m.jsx)(`p`,{className:`text-xs text-slate-400 mb-3`,children:`No categories yet`}),(0,m.jsx)(`button`,{className:`text-xs bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1.5 rounded-lg font-bold transition-all active:scale-95`,children:`Create First Category`})]})]}),(0,m.jsxs)(`div`,{className:`p-4 border-b border-slate-200 dark:border-slate-800`,children:[(0,m.jsx)(`div`,{className:`px-3 mb-2`,children:(0,m.jsx)(`h3`,{className:`text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Pages`})}),(0,m.jsx)(`div`,{className:`space-y-1`,children:(0,m.jsx)(h,{path:`/dashboard/cms/pages`,icon:t,title:`Pages`})})]}),(0,m.jsxs)(`div`,{className:`p-4`,children:[(0,m.jsx)(`div`,{className:`px-3 mb-2`,children:(0,m.jsx)(`h3`,{className:`text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Content`})}),(0,m.jsxs)(`div`,{className:`space-y-1`,children:[(0,m.jsx)(h,{path:`/dashboard/cms/posts`,icon:t,title:`Posts`}),(0,m.jsx)(h,{path:`/dashboard/cms/tags`,icon:a,title:`Tags`}),(0,m.jsx)(h,{path:`/dashboard/cms/sites`,icon:e,title:`Sites`})]})]})]})})}function _(){return(0,m.jsxs)(`div`,{className:`flex h-[calc(100%+3rem)] w-[calc(100%+3rem)] -m-6 overflow-hidden`,children:[(0,m.jsx)(g,{}),(0,m.jsx)(`main`,{className:`flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900/50`,children:(0,m.jsx)(i,{})})]})}export{_ as default};