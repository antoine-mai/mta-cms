import{C as e,Q as t,T as n,X as r,Z as i,a,at as o,b as s,c,ct as l,dt as u,j as d,lt as f,pt as p,rt as m,u as h,v as g}from"./react-vendor-JXP-I5sL.js";var _=p(),v=u();function y(){let[o,u]=(0,_.useState)([]),[p,y]=(0,_.useState)([]),b=l(),x=f(),S=new URLSearchParams(b.search),C=S.get(`category_id`)?parseInt(S.get(`category_id`)):null,w=b.pathname;(0,_.useEffect)(()=>{T()},[]);let T=async()=>{try{let e=await(await fetch(`/root/post/categories/browse?type=product`)).json();e.success&&u(e.items)}catch(e){console.error(e)}},E=(e,t)=>{t.stopPropagation(),y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},D=({cat:e,level:t=0})=>{let n=o.filter(t=>t.parent_id===e.id),a=n.length>0,s=p.includes(e.id),c=C===e.id&&w===`/dashboard/ecommerce`;return(0,v.jsxs)(`div`,{className:`select-none`,children:[(0,v.jsxs)(`div`,{onClick:()=>x(`/dashboard/ecommerce?category_id=${e.id}`),className:`
                        flex items-center gap-2 px-3 py-1.5 cursor-pointer transition-all rounded-lg group text-sm
                        ${c?`bg-indigo-50 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-400 font-bold`:`text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800`}
                    `,style:{paddingLeft:`${t*12+8}px`},children:[(0,v.jsx)(`span`,{onClick:t=>E(e.id,t),className:`p-0.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors ${a?``:`invisible`}`,children:s?(0,v.jsx)(i,{size:14}):(0,v.jsx)(r,{size:14})}),(0,v.jsx)(d,{size:14,className:c?`text-indigo-500`:`text-slate-400`}),(0,v.jsx)(`span`,{className:`truncate flex-1`,children:e.name})]}),s&&a&&(0,v.jsx)(`div`,{className:`mt-0.5`,children:n.map(e=>(0,v.jsx)(D,{cat:e,level:t+1},e.id))})]})},O=({path:e,icon:t,title:n})=>(0,v.jsxs)(m,{to:e,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm font-medium ${w===e?`text-indigo-600 bg-indigo-50 dark:bg-indigo-500/10 dark:text-indigo-400`:`text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:[(0,v.jsx)(t,{size:18}),(0,v.jsx)(`span`,{children:n})]});return(0,v.jsxs)(`aside`,{className:`w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col h-full overflow-hidden`,children:[(0,v.jsxs)(`div`,{className:`p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between`,children:[(0,v.jsx)(`h3`,{className:`text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Catalog`}),(0,v.jsx)(`button`,{onClick:()=>{},className:`p-1 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 rounded-md transition-colors`,title:`Add Category`,children:(0,v.jsx)(g,{size:16})})]}),(0,v.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-2 custom-scrollbar`,children:[(0,v.jsxs)(`div`,{onClick:()=>x(`/dashboard/ecommerce`),className:`
                        flex items-center gap-3 px-3 py-2 cursor-pointer transition-all rounded-lg mb-2 text-sm
                        ${C===null&&w===`/dashboard/ecommerce`?`bg-indigo-50 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-400 font-bold`:`text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800`}
                    `,children:[(0,v.jsx)(s,{size:16}),(0,v.jsx)(`span`,{children:`All Products`})]}),(0,v.jsx)(`div`,{className:`space-y-0.5 mb-6`,children:o.length===0?(0,v.jsxs)(`div`,{className:`px-3 py-4 text-center border border-dashed border-slate-200 dark:border-slate-800 rounded-xl mx-2`,children:[(0,v.jsx)(`p`,{className:`text-[11px] text-slate-500 dark:text-slate-400 mb-2`,children:`No categories found`}),(0,v.jsxs)(`button`,{className:`text-[10px] font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1 mx-auto`,children:[(0,v.jsx)(g,{size:10}),`Create First Category`]})]}):o.filter(e=>!e.parent_id).map(e=>(0,v.jsx)(D,{cat:e},e.id))}),(0,v.jsx)(`div`,{className:`px-3 mb-2`,children:(0,v.jsx)(`h3`,{className:`text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Management`})}),(0,v.jsxs)(`div`,{className:`space-y-1 mb-6`,children:[(0,v.jsx)(O,{path:`/dashboard/ecommerce/attribute-sets`,icon:n,title:`Attribute Sets`}),(0,v.jsx)(O,{path:`/dashboard/ecommerce/attributes`,icon:e,title:`Attributes`}),(0,v.jsx)(O,{path:`/dashboard/ecommerce/tags`,icon:c,title:`Product Tags`})]}),(0,v.jsx)(`div`,{className:`px-3 mb-2`,children:(0,v.jsx)(`h3`,{className:`text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Sales`})}),(0,v.jsxs)(`div`,{className:`space-y-1`,children:[(0,v.jsx)(O,{path:`/dashboard/ecommerce/orders`,icon:h,title:`Orders`}),(0,v.jsx)(O,{path:`/dashboard/ecommerce/customers`,icon:a,title:`Customers`})]})]}),(0,v.jsx)(`div`,{className:`p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50`,children:(0,v.jsx)(O,{path:`/dashboard/ecommerce/analytics`,icon:t,title:`Analytics`})})]})}function b(){return(0,v.jsxs)(`div`,{className:`flex h-[calc(100%+3rem)] w-[calc(100%+3rem)] -m-6 overflow-hidden`,children:[(0,v.jsx)(y,{}),(0,v.jsx)(`main`,{className:`flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900/50`,children:(0,v.jsx)(o,{})})]})}export{b as default};