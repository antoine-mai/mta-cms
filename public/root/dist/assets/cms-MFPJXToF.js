const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/categories-BV5_svw2.js","assets/react-vendor-BnB1E_f7.js","assets/monaco-vendor-Buopimvp.js","assets/rolldown-runtime-Cn8xt2Gj.js","assets/posts-CtvY839l.js","assets/tags-Ds0Id7Ie.js"])))=>i.map(i=>d[i]);
import{J as e,N as t,at as n,ct as r,et as i,g as a,it as o,k as s,ot as c,q as l,rt as u,s as d,st as f,tt as p,ut as m}from"./react-vendor-BnB1E_f7.js";var h=m(),g=r();function _({path:e,icon:t,title:r}){let a=n(),o=a.pathname===e||a.pathname.startsWith(e+`/`);return(0,g.jsxs)(i,{to:e,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm font-medium ${o?`text-indigo-600 bg-indigo-50 dark:bg-indigo-500/10 dark:text-indigo-400`:`text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:[(0,g.jsx)(t,{size:18,className:o?`text-indigo-600 dark:text-indigo-400`:`text-slate-400`}),(0,g.jsx)(`span`,{children:r})]})}function v(){let[r,i]=(0,h.useState)([]),[o,u]=(0,h.useState)([]),f=n(),p=c(),m=new URLSearchParams(f.search),v=m.get(`category_id`)?parseInt(m.get(`category_id`)):null,y=f.pathname;(0,h.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await(await fetch(`/root/post/categories/browse?type=post`)).json();e.success&&i(e.items)}catch(e){console.error(e)}},x=(e,t)=>{t.stopPropagation(),u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},S=({cat:t,level:n=0})=>{let i=r.filter(e=>e.parent_id===t.id),a=i.length>0,c=o.includes(t.id),u=v===t.id&&y===`/dashboard/cms/categories`;return(0,g.jsxs)(`div`,{children:[(0,g.jsxs)(`div`,{onClick:()=>p(`/dashboard/cms/categories?category_id=${t.id}`),className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors group ${u?`bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 dark:text-indigo-400`:`hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300`}`,style:{paddingLeft:`${12+n*16}px`},children:[a&&(0,g.jsx)(`button`,{onClick:e=>x(t.id,e),className:`p-0.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors`,children:c?(0,g.jsx)(e,{size:14,className:`text-slate-400`}):(0,g.jsx)(l,{size:14,className:`text-slate-400`})}),!a&&(0,g.jsx)(`div`,{className:`w-[18px]`}),(0,g.jsx)(s,{size:16,className:u?`text-indigo-600 dark:text-indigo-400`:`text-slate-400`}),(0,g.jsx)(`span`,{className:`flex-1 text-sm font-medium truncate`,children:t.name})]}),a&&c&&(0,g.jsx)(`div`,{children:i.map(e=>(0,g.jsx)(S,{cat:e,level:n+1},e.id))})]})},C=r.filter(e=>!e.parent_id);return(0,g.jsx)(`aside`,{className:`w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col h-full`,children:(0,g.jsxs)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar`,children:[(0,g.jsxs)(`div`,{className:`p-4 border-b border-slate-200 dark:border-slate-800`,children:[(0,g.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,g.jsx)(`h3`,{className:`text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Categories`}),(0,g.jsx)(`button`,{className:`p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors`,children:(0,g.jsx)(a,{size:14,className:`text-slate-400`})})]}),C.length>0?(0,g.jsx)(`div`,{className:`space-y-0.5`,children:C.map(e=>(0,g.jsx)(S,{cat:e},e.id))}):(0,g.jsxs)(`div`,{className:`text-center py-8`,children:[(0,g.jsx)(`div`,{className:`size-12 bg-slate-100 dark:bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-3`,children:(0,g.jsx)(s,{size:24,className:`text-slate-300`})}),(0,g.jsx)(`p`,{className:`text-xs text-slate-400 mb-3`,children:`No categories yet`}),(0,g.jsx)(`button`,{className:`text-xs bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1.5 rounded-lg font-bold transition-all active:scale-95`,children:`Create First Category`})]})]}),(0,g.jsxs)(`div`,{className:`p-4`,children:[(0,g.jsx)(`div`,{className:`px-3 mb-2`,children:(0,g.jsx)(`h3`,{className:`text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest`,children:`Content`})}),(0,g.jsxs)(`div`,{className:`space-y-1`,children:[(0,g.jsx)(_,{path:`/dashboard/cms/posts`,icon:t,title:`Posts`}),(0,g.jsx)(_,{path:`/dashboard/cms/tags`,icon:d,title:`Tags`})]})]})]})})}var y=(0,h.lazy)(()=>f(()=>import(`./categories-BV5_svw2.js`),__vite__mapDeps([0,1,2,3]))),b=(0,h.lazy)(()=>f(()=>import(`./posts-CtvY839l.js`),__vite__mapDeps([4,1,2,3]))),x=(0,h.lazy)(()=>f(()=>import(`./tags-Ds0Id7Ie.js`),__vite__mapDeps([5,1,2,3])));function S(){return(0,g.jsxs)(o,{children:[(0,g.jsx)(u,{index:!0,element:(0,g.jsx)(p,{to:`categories`,replace:!0})}),(0,g.jsx)(u,{path:`categories`,element:(0,g.jsx)(y,{})}),(0,g.jsx)(u,{path:`posts`,element:(0,g.jsx)(b,{})}),(0,g.jsx)(u,{path:`tags`,element:(0,g.jsx)(x,{})})]})}function C(){return(0,g.jsxs)(`div`,{className:`flex h-[calc(100%+3rem)] w-[calc(100%+3rem)] -m-6 overflow-hidden`,children:[(0,g.jsx)(v,{}),(0,g.jsx)(`main`,{className:`flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900/50`,children:(0,g.jsx)(S,{})})]})}export{C as default};